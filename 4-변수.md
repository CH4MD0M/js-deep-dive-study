# 변수란 무엇인가? 왜 필요한가?

**변수**는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다(값의 위치를 가리키는 `상징적인 이름`이다).

**변수**는 프로그래밍 언어의 컴파일러 또는 인터프리터에 의해 값이 저장된 메모리 공간의 주소로 `치환되어` 실행된다.

자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않는다. 메모리 주소를 통해 값에 직접 접근하는 것은 치명적이 오류를 발생시킬 수 있기 때문이다. 따라서 변수를 통해 메모리에 안전하게 접근해야 한다.

| 변수 값          | 변수에 저장된 값                  |
| ---------------- | --------------------------------- |
| 할당(assignment) | 변수에 값을 저장하는 것           |
| 참도(reference)  | 변수에 저장된 값을 읽어 들이는 것 |

<br>

# 식별자

변수 이름을 `식별자(identifier)`라고도 한다. 식별자는 어떤 값을 구별해서 식별할 수 있는 고유한 이름을 말한다.

> **식별자는 값이 아니라 메모리 주소를 기억하고 있다.**

값은 메모리 공간에 저장되어 있고, 식별자는 메모리 공간에 저장되어 잇는 어떤 값을 식별해낼 수 있어야 한다. 이를 위해 식별자는 어떤 값이 저장되어 있는 메모리 주소를 기억(저장)해야 한다.

식별자는 `메모리 주소이 붙인 이름`이라고 할 수 있다.

식별자라는 용어는 변수 이름에만 국한해서 사용하지 않는다. 변수, 함수, 클래스 등의 이름은 모두 식별자다. 즉, 메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자라고 부른다.

<br>

# 변수 선언

**변수 선언(variable declaration)** 이란 변수를 생성하는 것을 말한다.

값을 저장하기 위한 메모리 공간을 `확보`하고 변수 이름과 확보된 메모리 공간의 주소를 `연결`해서 값을 저장할 수 있게 준비하는 것이다.

변수를 사용하려면 반드시 선언이 필요하다. 변수를 선언할 때는 `var, let, const 키워드`를 사용한다.

<br>

```jsx
var name;
```

> **자바스크립트 엔진은 변수 선언을 2단계에 거쳐 수행한다.**

-   **선언 단계:** 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
-   **초기화 단계:** 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.

<br>

> **var 키워드를 사용한 변수 선언은 선언 단계와 초기화 단계가 동시에 진행된다.**

만약 초기화 단계를 거치지 않으면 확보된 메모리 공간에는 이전에 다른 애플리케이션이 사용했던 값이 남아 있을 수 있다. <br> 이러한 값을 **쓰레기 값(garbage value)** 이라 한다.

var 키워드는 암묵적으로 초기화를 수행하므로 이러한 위험으로부터 안전하다.

<br>

# 변수 선언의 실행 시점과 변수 호이스팅

```jsx
console.log(age); // undefined

var age; // 변수 선언문
```

변수 선언은 런타임(소스코드가 한 줄씩 순차적으로 실행되는 시점)이 아니라 그 이전 단계에서 먼저 실행된다.<br>
자바스크립트 엔진은 런타임 이전에 소스코드의 **평가 과정**을 거치면서 소스코드를 실행하기 위한 준비를 한다.<br>
평가 과정에서 자바스크립트 엔진은 **모든 선언문을 소스코드에서 찾아내 먼저 실행한다.**<br>
그리고 소스코드의 평가 과정이 끝나면 모든 **선언문을 제외하고** 소스코드를 한 줄씩 순차적으로 실행한다.

**_자바스크립트 엔진은 변수 선언이 소스코드의 어디에 있든 상관없이 다른 코드보다 먼저 실행한다._**

<br>

> ✍🏻 **변수 호이스팅** <br>
> 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 **변수 호이스팅(variable hoisting)** 이라 한다.

<br>

# 값의 할당

```jsx
var age;
age = 27;
```

```jsx
var age = 27;
```

자바스크립트 엔진은 변수 선언과 값의 할당을 하나의 문으로 단축 표현해도 **변수 선언**과 **값의 할당**을 2개의 문으로 나누어 실행한다.

> **변수 선언과 값의 할당의 실행 시점은 다르다.**

**변수 선언**은 런타임 이전에 먼저 실행되지만, **값의 할당**은 런타임에 실행된다.

```jsx
console.log(age); // undefined

var score = 80;

console.log(age); // 80
```

<div align="center">
<img width="600" src="https://user-images.githubusercontent.com/54847910/158745919-f9c5ab1d-6d69-456b-8778-6b14f687bf2c.png">
</div>

<br>

# 값의 재할당

var 키워드로 선언한 변수는 값을 재할당할 수 있다.
